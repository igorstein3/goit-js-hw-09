{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict'\nconst STORAGE_KEY = 'feedback-form-state';\nfunction loadFromLS(key) {\n    const body = localStorage.getItem(key);\n    try {\n        const data = JSON.parse(body);\n        return data;\n    }\n    catch (err) {\n        console.log(err);\n            return body;\n        }\n    }\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\nconst refs = {\n    form: document.querySelector(\".feedback-form\")\n}\nrefs.form.addEventListener('input', (e) => {\n    const email = e.currentTarget.elements.email.value.trim();\n    const message = e.currentTarget.elements.message.value.trim();\n    const formData = {email, message}\n    saveToLS(STORAGE_KEY, formData);\n})\nfunction initPage() {\n    const initPageFormData = loadFromLS(STORAGE_KEY);\n    refs.form.elements.email.value = initPageFormData?.email || '';\n    refs.form.elements.message.value = initPageFormData?.message|| '';\n}\ninitPage();\nrefs.form.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const email = e.currentTarget.elements.email.value.trim();\n    const message = e.currentTarget.elements.message.value.trim();\n    const formData = { email, message };\n    if (formData.email === '') { alert('Fill please all fields') }\n    else if (formData.message === '') \n    { alert('Fill please all fields') } else {\n        console.log(formData)\n        e.target.reset();\n        localStorage.removeItem(STORAGE_KEY);\n    };  \n})\n;"],"names":["STORAGE_KEY","loadFromLS","key","body","err","saveToLS","value","jsonData","refs","email","message","initPage","initPageFormData","formData"],"mappings":"oDACA,MAAMA,EAAc,sBACpB,SAASC,EAAWC,EAAK,CACrB,MAAMC,EAAO,aAAa,QAAQD,CAAG,EACrC,GAAI,CAEA,OADa,KAAK,MAAMC,CAAI,CAE/B,OACMC,EAAK,CACR,eAAQ,IAAIA,CAAG,EACJD,CACV,CACJ,CACL,SAASE,EAASH,EAAKI,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQJ,EAAKK,CAAQ,CACtC,CACA,MAAMC,EAAO,CACT,KAAM,SAAS,cAAc,gBAAgB,CACjD,EACAA,EAAK,KAAK,iBAAiB,QAAU,GAAM,CACvC,MAAMC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OAEvDL,EAASL,EADQ,CAAC,MAAAS,EAAO,QAAAC,CAAO,CACF,CAClC,CAAC,EACD,SAASC,GAAW,CAChB,MAAMC,EAAmBX,EAAWD,CAAW,EAC/CQ,EAAK,KAAK,SAAS,MAAM,OAAQI,GAAA,YAAAA,EAAkB,QAAS,GAC5DJ,EAAK,KAAK,SAAS,QAAQ,OAAQI,GAAA,YAAAA,EAAkB,UAAU,EACnE,CACAD,IACAH,EAAK,KAAK,iBAAiB,SAAW,GAAM,CACxC,EAAE,eAAc,EAChB,MAAMC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OACjDG,EAAW,CAAE,MAAAJ,EAAO,QAAAC,GACtBG,EAAS,QAAU,IACdA,EAAS,UAAY,GADD,MAAM,wBAAwB,GAGvD,QAAQ,IAAIA,CAAQ,EACpB,EAAE,OAAO,QACT,aAAa,WAAWb,CAAW,EAE3C,CAAC"}